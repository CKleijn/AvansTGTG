@model Packet
@{
    ViewData["Title"] = Model.Name;
    var isStudent = User.HasClaim("Role", "Student");
    var isCanteenEmployee = User.HasClaim("Role", "CanteenEmployee");
}

<div class="row">
    <div class="col-6">
        <img width="600px" src="https://8xpub.com/img/p/vn-default-large_default.jpg" alt="Default img">
    </div>
    <div class="col-6">
        <h1>@Model.Name @if ((bool)@Model.IsEightteenPlusPacket)
            {
                <text>18+</text>
            }
        </h1>
        <h6>Huidige pakket</h6>
        <table>
            <tr>
                @foreach (var product in Model.Products)
                {
                    <td>@product.Name</td>
                }
            </tr>
        </table>
        <h6>Product</h6>
        <img width="200px" src="https://8xpub.com/img/p/vn-default-large_default.jpg" alt="Default img">
        <div>
            <h1>@Model.Name</h1>
            @if (isStudent)
            {
                <form asp-controller="Packet" asp-action="ReservePacket" asp-route-id="@Model.PacketId" method="post">
                    <button class="btn btn-primary" type="submit">Reserveer</button>
                </form>
            }
            else if (isCanteenEmployee)
            {
                <a asp-controller="Packet" asp-action="UpdatePacket" asp-route-id="@Model.PacketId">Bewerken</a>

                <form asp-controller="Packet" asp-action="DeletePacket" asp-route-id="@Model.PacketId" method="post">
                    <button class="btn btn-danger" type="submit">Verwijderen</button>
                </form>
            }
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <p><b>@Html.DisplayNameFor(p => p.MealType):</b> @Model.MealType</p>
        <p><b>@Html.DisplayNameFor(p => p.PickUpDateTime):</b> @Model.PickUpDateTime</p>
        <p><b>@Html.DisplayNameFor(p => p.LatestPickUpTime):</b> @Model.LatestPickUpTime</p>
        <p><b>@Html.DisplayNameFor(p => p.City):</b> @Model.City</p>
        <p><b>@Html.DisplayNameFor(p => p.Canteen.Location):</b> @Model.Canteen.Location</p>
        <p><b>@Html.DisplayNameFor(p => p.ReservedBy):</b> 
            @if (Model.ReservedBy != null) 
            {
                @Model.ReservedBy.Name
            }
            else {
                <text>Nog niet gereserveerd</text>
            }
        </p>
    </div>
</div>
